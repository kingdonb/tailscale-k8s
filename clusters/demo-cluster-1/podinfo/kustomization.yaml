resources:
- flux-oci/
#- helm-oci/
- podinfo-ns.yaml
# podinfo-flux-oci-ns.yaml
# This didn't work...
  # # we'll supply the namespace ourselves (above)
  # patchesStrategicMerge:
  # - |-
  #   apiVersion: v1
  #   kind: Namespace
  #   metadata:
  #     name: podinfo-flux-oci
  #   $patch: delete

# More complicated version:
#- flux-oci-demo.yaml
#- flux-helm-demo.yaml
#
# Why use a more complicated version?
# - For Flux to enforce RBAC, different namespaces and service accounts must be used
# - You can set `targetNamespace` in a Flux Kustomization, fencing off tenant config
# - Compartmentalizing: when it fails, don't cause the whole synchronization to stop
